!function(e){var t={};function n(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(l,r,function(t){return e[t]}.bind(null,r));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=3)}({"2kmj":function(e,t,n){"use strict";n.r(t);n("5FW9")},3:function(e,t,n){e.exports=n("2kmj")},"5FW9":function(e,t,n){n("a2iX")},a2iX:function(e,t){!function(){"use strict";var e=function(t){var n=t,l=function(){return n};return{get:l,set:function(e){n=e},clone:function(){return e(l())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=tinymce.util.Tools.resolve("tinymce.html.DomParser"),r=tinymce.util.Tools.resolve("tinymce.html.Node"),i=tinymce.util.Tools.resolve("tinymce.html.Serializer"),o=function(e){return e.getParam("fullpage_hide_in_source_view")},a=function(e){return e.getParam("fullpage_default_xml_pi")},c=function(e){return e.getParam("fullpage_default_encoding")},u=function(e){return e.getParam("fullpage_default_font_family")},s=function(e){return e.getParam("fullpage_default_font_size")},d=function(e){return e.getParam("fullpage_default_text_color")},f=function(e){return e.getParam("fullpage_default_title")},m=function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")},g=function(e){return l({validate:!1,root_name:"#document"}).parse(e)},p=g,y=function(e,t){var l,r,i=g(t),o={};function a(e,t){return e.attr(t)||""}return o.fontface=u(e),o.fontsize=s(e),7===(l=i.firstChild).type&&(o.xml_pi=!0,(r=/encoding="([^"]+)"/.exec(l.value))&&(o.docencoding=r[1])),(l=i.getAll("#doctype")[0])&&(o.doctype="<!DOCTYPE"+l.value+">"),(l=i.getAll("title")[0])&&l.firstChild&&(o.title=l.firstChild.value),n.each(i.getAll("meta"),(function(e){var t,n=e.attr("name"),l=e.attr("http-equiv");n?o[n.toLowerCase()]=e.attr("content"):"Content-Type"===l&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(o.docencoding=t[1])})),(l=i.getAll("html")[0])&&(o.langcode=a(l,"lang")||a(l,"xml:lang")),o.stylesheets=[],n.each(i.getAll("link"),(function(e){"stylesheet"===e.attr("rel")&&o.stylesheets.push(e.attr("href"))})),(l=i.getAll("body")[0])&&(o.langdir=a(l,"dir"),o.style=a(l,"style"),o.visited_color=a(l,"vlink"),o.link_color=a(l,"link"),o.active_color=a(l,"alink")),o},h=function(e,t,l){var o,a,c,u,s,d=e.dom;function f(e,t,n){e.attr(t,n||void 0)}function m(e){a.firstChild?a.insert(e,a.firstChild):a.append(e)}o=g(l),(a=o.getAll("head")[0])||(u=o.getAll("html")[0],a=new r("head",1),u.firstChild?u.insert(a,u.firstChild,!0):u.append(a)),u=o.firstChild,t.xml_pi?(s='version="1.0"',t.docencoding&&(s+=' encoding="'+t.docencoding+'"'),7!==u.type&&(u=new r("xml",7),o.insert(u,o.firstChild,!0)),u.value=s):u&&7===u.type&&u.remove(),u=o.getAll("#doctype")[0],t.doctype?(u||(u=new r("#doctype",10),t.xml_pi?o.insert(u,o.firstChild):m(u)),u.value=t.doctype.substring(9,t.doctype.length-1)):u&&u.remove(),u=null,n.each(o.getAll("meta"),(function(e){"Content-Type"===e.attr("http-equiv")&&(u=e)})),t.docencoding?(u||((u=new r("meta",1)).attr("http-equiv","Content-Type"),u.shortEnded=!0,m(u)),u.attr("content","text/html; charset="+t.docencoding)):u&&u.remove(),u=o.getAll("title")[0],t.title?(u?u.empty():m(u=new r("title",1)),u.append(new r("#text",3)).value=t.title):u&&u.remove(),n.each("keywords,description,author,copyright,robots".split(","),(function(e){var n,l,i=o.getAll("meta"),a=t[e];for(n=0;n<i.length;n++)if((l=i[n]).attr("name")===e)return void(a?l.attr("content",a):l.remove());a&&((u=new r("meta",1)).attr("name",e),u.attr("content",a),u.shortEnded=!0,m(u))}));var p={};return n.each(o.getAll("link"),(function(e){"stylesheet"===e.attr("rel")&&(p[e.attr("href")]=e)})),n.each(t.stylesheets,(function(e){p[e]||((u=new r("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),u.shortEnded=!0,m(u)),delete p[e]})),n.each(p,(function(e){e.remove()})),(u=o.getAll("body")[0])&&(f(u,"dir",t.langdir),f(u,"style",t.style),f(u,"vlink",t.visited_color),f(u,"link",t.link_color),f(u,"alink",t.active_color),d.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),(u=o.getAll("html")[0])&&(f(u,"lang",t.langcode),f(u,"xml:lang",t.langcode)),a.firstChild||a.remove(),(c=i({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(o)).substring(0,c.indexOf("</body>"))},v=function(e,t){var l=y(e,t.get());e.windowManager.open({title:"Document properties",data:l,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(r){var i=h(e,n.extend(l,r.data),t.get());t.set(i)}})},_=function(e,t){e.addCommand("mceFullPageProperties",(function(){v(e,t)}))},b=function(e,t){return n.each(e,(function(e){t=t.replace(e,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))})),t},x=function(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,(function(e,t){return unescape(t)}))},k=n.each,C=function(e){return e.replace(/<\/?[A-Z]+/g,(function(e){return e.toLowerCase()}))},A=function(e){var t,n="",l="";if(a(e)){var r=c(e);n+='<?xml version="1.0" encoding="'+(r||"ISO-8859-1")+'" ?>\n'}return n+=m(e),n+="\n<html>\n<head>\n",(t=f(e))&&(n+="<title>"+t+"</title>\n"),(t=c(e))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=u(e))&&(l+="font-family: "+t+";"),(t=s(e))&&(l+="font-size: "+t+";"),(t=d(e))&&(l+="color: "+t+";"),n+="</head>\n<body"+(l?' style="'+l+'"':"")+">\n"},P=function(e,t,l){e.on("BeforeSetContent",(function(r){!function(e,t,l,r){var i,a,c,u,s,d="",f=e.dom;if(!(r.selection||(c=b(e.settings.protect,r.content),"raw"===r.format&&t.get()||r.source_view&&o(e)))){0!==c.length||r.source_view||(c=n.trim(t.get())+"\n"+n.trim(c)+"\n"+n.trim(l.get())),-1!==(i=(c=c.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(i=c.indexOf(">",i),t.set(C(c.substring(0,i+1))),-1===(a=c.indexOf("</body",i))&&(a=c.length),r.content=n.trim(c.substring(i+1,a)),l.set(C(c.substring(a)))):(t.set(A(e)),l.set("\n</body>\n</html>")),u=p(t.get()),k(u.getAll("style"),(function(e){e.firstChild&&(d+=e.firstChild.value)})),(s=u.getAll("body")[0])&&f.setAttribs(e.getBody(),{style:s.attr("style")||"",dir:s.attr("dir")||"",vLink:s.attr("vlink")||"",link:s.attr("link")||"",aLink:s.attr("alink")||""}),f.remove("fullpage_styles");var m=e.getDoc().getElementsByTagName("head")[0];d&&(f.add(m,"style",{id:"fullpage_styles"},d),(s=f.get("fullpage_styles")).styleSheet&&(s.styleSheet.cssText=d));var g={};n.each(m.getElementsByTagName("link"),(function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(g[e.href]=e)})),n.each(u.getAll("link"),(function(e){var t=e.attr("href");if(!t)return!0;g[t]||"stylesheet"!==e.attr("rel")||f.add(m,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete g[t]})),n.each(g,(function(e){e.parentNode.removeChild(e)}))}}(e,t,l,r)})),e.on("GetContent",(function(r){!function(e,t,l,r){r.selection||r.source_view&&o(e)||(r.content=x(n.trim(t)+"\n"+n.trim(r.content)+"\n"+n.trim(l)))}(e,t.get(),l.get(),r)}))},w=function(e){e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})};t.add("fullpage",(function(t){var n=e(""),l=e("");_(t,n),w(t),P(t,n,l)}))}()}});